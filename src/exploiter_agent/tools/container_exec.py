import subprocess

def container_exec(
    container_name: str,
    command: str
) -> dict:
    """Execute arbitrary commands in the Docker container.

    Use this to run any command needed for testing: strace, gdb, ltrace, etc.
    Returns command output and execution status.
    """
    result = subprocess.run(
        ["docker", "exec", container_name, "bash", "-c", command],
        capture_output=True,
        text=True
    )
    return {
        "success": result.returncode == 0,
        "output": result.stdout.strip(),
        "error": result.stderr.strip() if result.returncode != 0 else None
    }
