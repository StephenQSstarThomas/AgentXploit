#!/usr/bin/env python3
import os
import sys
import argparse
from pathlib import Path
from dotenv import load_dotenv

# Add parent directory to path for imports
sys.path.insert(0, str(Path(__file__).parent))

from exploiter_agent import ExploitAgent

def main():
    load_dotenv()

    parser = argparse.ArgumentParser(description='Exploiter Agent')
    parser.add_argument('--target-info', type=str, default='AgentDojo Workspace',
                        help='Target information description')
    parser.add_argument('--max-turns', type=int, default=15,
                        help='Maximum number of agent turns')
    args = parser.parse_args()

    print(f"Target: {args.target_info}\n")

    agent = ExploitAgent(target_info=args.target_info)
    result = agent.run(max_turns=args.max_turns)

    print(f"\nResult:\n{result}")

if __name__ == '__main__':
    main()
